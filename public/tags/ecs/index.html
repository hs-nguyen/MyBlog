<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>ECS | Learning Cloud</title>
<meta name="keywords" content="">
<meta name="description" content="ExampleSite description">
<meta name="author" content="Me">
<link rel="canonical" href="//localhost:1313/tags/ecs/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.0d898f4f70604ecf22b8be6a58e3513b4c07abbf356afe4ad3187ecc392fde6b.css" integrity="sha256-DYmPT3BgTs8iuL5qWONRO0wHq781av5K0xh&#43;zDkv3ms=" rel="preload stylesheet" as="style">
<link rel="icon" href="//localhost:1313/%3Clink%20/%20abs%20url%3E">
<link rel="icon" type="image/png" sizes="16x16" href="//localhost:1313/%3Clink%20/%20abs%20url%3E">
<link rel="icon" type="image/png" sizes="32x32" href="//localhost:1313/clouds.png">
<link rel="apple-touch-icon" href="//localhost:1313/%3Clink%20/%20abs%20url%3E">
<link rel="mask-icon" href="//localhost:1313/%3Clink%20/%20abs%20url%3E">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" type="application/rss+xml" href="//localhost:1313/tags/ecs/index.xml">
<link rel="alternate" hreflang="en" href="//localhost:1313/tags/ecs/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
</noscript><meta property="og:title" content="ECS" />
<meta property="og:description" content="ExampleSite description" />
<meta property="og:type" content="website" />
<meta property="og:url" content="//localhost:1313/tags/ecs/" />
<meta property="og:image" content="//localhost:1313/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E" />
<meta property="og:site_name" content="ExampleSite" />

<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="//localhost:1313/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E" />
<meta name="twitter:title" content="ECS"/>
<meta name="twitter:description" content="ExampleSite description"/>

</head>

<body class="list" id="top">

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="//localhost:1313/" accesskey="h" title="Home (Alt + H)">
                <img src="//localhost:1313/apple-touch-icon.png" alt="" aria-label="logo"
                    height="50">Home</a>
            <div class="logo-switches">
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="//localhost:1313/" title="Home">
                    <span>Home</span>
                </a>
            </li>
            <li>
                <a href="//localhost:1313/blog" title="Blogs">
                    <span>Blogs</span>
                </a>
            </li>
            <li>
                <a href="//localhost:1313/project" title="Projects">
                    <span>Projects</span>
                </a>
            </li>
            <li>
                <a href="//localhost:1313/search" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
            <li>
                <a href="//localhost:1313/tags" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main"> 
<header class="page-header"><div class="breadcrumbs"><a href="//localhost:1313/">Home</a>&nbsp;»&nbsp;<a href="//localhost:1313/tags/">Tags</a></div>
  <h1>
    ECS
  </h1>
</header>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Setup a VPC Peering connections between two VPCs across regions on AWS.
    </h2>
  </header>
  <div class="entry-content">
    <p>Kiến trúc dự án Welcome mọi người đến project của tôi. Tiếp tục là một buổi hands-on để nâng cao kỹ năng trên AWS. Topic: Setup a VPC Peering connections between two VPCs across regions on AWS. Time to complete: 15 minutes Regions: Singapore &amp; Virginia Giới thiệu một chút: VPC Peering là gì? VPC Peering là một tính năng của VPC đóng vai trò xây dựng luồng kết nối giữa các VPC với nhau trong cùng region, khác region or khác account. Vd: Bạn đang có VPC A &amp; VPC B trong cùng region với dải CIDR khác nhau, vậy làm thế nào chúng có thể giao tiếp với nhau? VPC Peering sẽ giúp chúng ta giải quyết vấn đề này! Hiểu như là VPC Peering là cây cầu bắt ngang 2 vị trí, từ điểm A có thể đi qa điểm B và ngược lại. Ưu điểm: Xây dựng kết nối riêng giữa các VPCs. Dễ dàng thiết lập và quản lý. Độ trễ thấp. Bảo mật. Tiết kiệm chi phí. Nhược điểm: Khả năng mở rộng: Nếu bạn chỉ có từ 2 -&gt; 3 VPCs thì việc thiết lập VPC Peering không thành vấn đề, nhưng trong tương lai nếu bạn có nhiều hơn 3 VPCs thì VPC peering không phải là giải pháp tối ưu. Thay vào đó chúng ta phải sử dụng Transit Gateway. Thì trong bài này mình sẽ không đề cập về Transit Gateway. Tích hợp: VPC Peering không hỗ trợ kết nối tới mạng, nếu bạn có những giải pháp kết nối bổ sung như VPN or AWS Direct Connect. Các bước thực hiện: Create 2 VPCs trên 2 regions Singapore &amp; Virginia. Create VPC peering connection tại region Singapore. Update Route table cả 2 VPCs trên 2 regions. Create 2 Security group for 2 VPCs trên 2 regions. Launch EC2 instances trên 2 regions. Ping connection. Clean up resources. Let’s get started Region: Singapore VPC Setting (VPC, Subnets, Route table, IGW) Click Create VPC Resources to create: VPC and more Name: vpc-singapore IPv4 CIDR block: 10.0.0.0/16 Number of Availability Zones (AZs): 1 Number of public subnets: 1 Number of private subnets: 1 NAT gateways ($): None VPC endpoints: None Click Create VPC (hoàn tất việc tạo) Region: Virginia VPC Setting (VPC, Subnets, Route table, IGW) Click Create VPC Resources to create: VPC and more Name: vpc-virginia IPv4 CIDR block: 10.1.0.0/16 Number of Availability Zones (AZs): 1 Number of public subnets: 1 Number of private subnets: 1 NAT gateways ($): None VPC endpoints: None Click Create VPC (hoàn tất việc tạo) Confirm VPC cả 2 regions Region: Singapore Click “Create Peering connection” Name: Demo-VPC-Peering Select a local VPC to peer with: VPC ID (Requester): Specify VPC Singapore Select another VPC to peer with: Account: My account Region: Another Region =&gt; Specify VPC Virginia VPC ID: Copy VPC ID Region Virginia Region: Virginia Tại Region Virginia chúng ta cần phải Accept request từ VPC Peering Singapore. Confirm VPC peering ở cả 2 regions. Update Route table cả 2 VPCs trên 2 regions. Region: Singapore Click Route tables =&gt; Click vpc-singapore-rtb-public Routes =&gt; Edit routes Destination: 10.1.0.0/16 (CIDR block VPC Virginia) Target: Peering Connection Confirm Route table Region: Virginia Click Route tables =&gt; Click vpc-virginia-rtb-public Routes =&gt; Edit routes Destination: 10.0.0.0/16 (CIDR block VPC Singapore) Target: Peering Connection Confirm Route table Create 2 Security group for 2 VPCs trên 2 regions. Region: Singapore Security group name: SecurityGroup-VPC-Sing Description: Allows connection between two VPC VPC: Specify VPC Singapore Inbound rules: Type: SSH Port: 22 Source: Anywhere IPv4 Type: ALL ICMP - IPv4 Port: All Source: 10.1.0.0/16 (CIDR block VPC Virginia) Region: Virginia Security group name: SecurityGroup-VPC-Virginia Description: Allows connection between two VPC VPC: Specify VPC Virginia Inbound rules: Type: SSH Port: 22 Source: Anywhere IPv4 Type: ALL ICMP - IPv4 Port: All Source: 10.0.0.0/16 (CIDR block VPC Singapore) Confirm Security Group ở cả 2 regions. Launch EC2 instances trên 2 regions. Region: Singapore Name and tags: EC2-Singapore AMI: Amazon Linux 2023 Instance type: t2.micro Keypair: Keypair-singapore Network Setting: VPC - required: vpc-singapore-vpc Subnet: Public Subnet Auto-assign public IP: Enable Security Group: SecurityGroup-VPC-Sing Click Launch instance Region: Virginia Name and tags: EC2-Virginia AMI: Amazon Linux 2023 Instance type: t2.micro Keypair: admin.virginia Network Setting: VPC - required: vpc-virginia-vpc Subnet: Public Subnet Auto-assign public IP: Enable Security Group: SecurityGroup-VPC-Virginia Click Launch instance. Confirm EC2 ở cả 2 regions. Ping connection. Instance connect to EC2-Singapore (thực hiện lệnh ping IP private EC2-Virginia) Instance connect to EC2-Virginia (thực hiện lệnh ping IP private EC2-Singapore) Clean up resources. Terminate 2 EC2 instance on 2 regions Delete Peering connections Delete 2 VPCs on 2 regions OK, cuối cùng mình đã làm xong project về VPC Peering, chỉ mất khoảng 15 phút cho bài lab lần này khá nhanh. Ngoài VPC peering ra các bạn có thể tìm hiểu và đọc thêm về Transit Gateway nha. Chúc các bạn thành công. </p>
  </div>
  <footer class="entry-footer"><span title='2024-12-06 00:40:04 -0700 -0700'>December 6, 2024</span>&nbsp;·&nbsp;4 min&nbsp;·&nbsp;Me</footer>
  <a class="entry-link" aria-label="post link to Setup a VPC Peering connections between two VPCs across regions on AWS." href="//localhost:1313/project/vpc-peering/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">How to build &amp; deploy a high-availability web application using docker ECS with EC2 on AWS.
    </h2>
  </header>
  <div class="entry-content">
    <p>Kiến trúc dự án Lâu lâu hands-on vài projects để nâng cao chuyên môn &amp; kỹ năng trong việc sử dụng AWS. Và đây là project mà mình đã làm. Topic: How to build &amp; deploy a high-availability web application using docker ECS with EC2 on AWS. Time to completed: 45 minutes Region: Singapore Cost: 1$ Các bước chuẩn bị: 1 chiếc Laptop or PC (không cần mạnh) có thể truy cập vào AWS console. IAM user full permission Administrator (không sử dụng User root khi làm lab). Registry domain tại Route 53 khoảng 3$ ( mục đích sử dụng để access dns route 53 thay vì sử dụng dns alb) (optional). Tại đây mình đã registry domain: https://cloud-sangnguyen.click Các bước thực hiện: 1. VPC Setting (VPC, Route table, Public &amp; Private Subnet, IGW, NGW)
...</p>
  </div>
  <footer class="entry-footer"><span title='2024-12-03 00:40:04 -0700 -0700'>December 3, 2024</span>&nbsp;·&nbsp;6 min&nbsp;·&nbsp;Me</footer>
  <a class="entry-link" aria-label="post link to How to build & deploy a high-availability web application using docker ECS with EC2 on AWS." href="//localhost:1313/project/how-to-build--deploy-a-high-availability-web-application-using-docker-ecs-with-ec2-on-aws/"></a>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2024 <a href="//localhost:1313/">Learning Cloud</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
</body>

</html>
